
# Приложение для работы с модулями

Это веб-приложение, написанное на FastAPI, которое позволяет анализировать и кластеризовать идеи на основе текстовых данных. Оно использует машинное обучение для обработки и группировки данных, а также предоставляет веб-интерфейс для взаимодействия с пользователем.

## Описание

Приложение имеет следующие функции:
1. Получение списка идей и их описаний.
2. Обработка текстов с использованием алгоритмов машинного обучения.
3. Кластеризация идей и создание подгрупп.
4. Веб-интерфейс для ввода данных и отображения результатов.

## Установка

Для того чтобы запустить приложение на своей машине, необходимо установить несколько зависимостей.

### Шаг 1: Клонировать репозиторий

Для начала клонируйте репозиторий:

```bash
git clonehttps://github.com/bulatusmanov1/Grouping_of_ideas
cd Grouping_of_ideas
```

### Шаг 2: Создать виртуальное окружение

Создайте виртуальное окружение для изоляции зависимостей:

```bash
python3 -m venv venv
```

Активируйте виртуальное окружение:

- Для **Windows**:

    ```bash
    .venv\Scripts/activate
    ```

- Для **Mac/Linux**:

    ```bash
    source venv/bin/activate
    ```

### Шаг 3: Установить зависимости

Установите необходимые зависимости с помощью `pip`:

```bash
pip install -r requirements.txt
```

Если у вас нет файла `requirements.txt`, вы можете установить необходимые библиотеки вручную:

```bash
pip install fastapi uvicorn pandas scikit-learn python-multipart
```

### Шаг 4: Подготовка данных

Перед запуском приложения, убедитесь, что у вас есть файл с данными (`data.csv`), который содержит информацию о идеях и их описаниях.

## Начало работы

В данном разделе поговорим о том, как запустить проект "руками".

Убедитесь, что у вас скачан postgresql:

```bash
psql --version
```

Если это не так, то скачайте его через официальный сайт: https://www.postgresql.org/download/, так же не забудьте добавить его в PATH:

```bash
export PATH="/Library/PostgreSQL/17/bin:$PATH"
```

После этого вам надо инициализировать базу данных и пользователя:

```bash
psql postgres
```

```
CREATE USER myuser WITH PASSWORD '237213';
CREATE DATABASE ideas_db OWNER myuser;
GRANT ALL PRIVILEGES ON DATABASE ideas_db TO myuser;
\q
```

Мы настроили окружение, осталось заполнить начальный датасет:

```
from db import Company_DB
from db_config import DB_CONFIG

db = Company_DB(**DB_CONFIG)

db.init_db_ideas()
db.init_db_clusters()

db.load_data_from_csv('data.csv')
db.process_clusters()
```

Программа готова к работе.

## Запуск приложения с использованием Docker

Этот проект можно запустить с помощью Docker, что позволит вам изолировать окружение и упростить установку всех зависимостей.

### 1. Сборка Docker-образа

Перед тем как запустить контейнер, необходимо собрать Docker-образ. Для этого выполните следующую команду в корневой директории проекта:

```bash
docker build -t myapp -f app/Dockerfile .
```

Эта команда создаст Docker-образ с именем `myapp` на основе Dockerfile в папке `app`.

### 2. Запуск контейнера

После сборки образа можно запустить контейнер с вашим приложением. Для этого выполните команду:

```bash
docker run -d -p 8000:8001 --name myapp-container myapp
```

- `-d` — запускает контейнер в фоновом режиме.
- `-p 8000:8001` — пробрасывает порт 8001 из контейнера на порт 8000 хост-машины. Приложение будет доступно по адресу `http://127.0.0.1:8000`.
- `--name myapp-container` — даёт имя контейнеру, чтобы легко управлять им.
- `myapp` — имя Docker-образа, который мы собрали на предыдущем шаге.

Теперь приложение будет доступно по адресу:

```
http://127.0.0.1:8000
```

### 3. Веб-интерфейс

Когда контейнер запущен, откройте браузер и перейдите по следующему адресу:

```
http://127.0.0.1:8000
```

На главной странице будет форма для ввода заголовка и описания идеи. После отправки формы приложение выполнит анализ текста, обработает его и покажет результаты.

### Примечания

- Убедитесь, что у вас установлен Docker. Если он ещё не установлен, вы можете скачать и установить его с [официального сайта Docker](https://www.docker.com/get-started).
- Если вам нужно остановить контейнер, используйте команду:
  ```bash
  docker stop myapp-container
  ```

- Для удаления контейнера после его остановки используйте:
  ```bash
  docker rm myapp-container
  ```

- Если потребуется удалить Docker-образ, используйте:
  ```bash
  docker rmi myapp
  ```

Теперь вы можете работать с приложением через Docker, что значительно упростит настройку и запуск.

## Пример использования

1. Введите заголовок и описание идеи в форме на главной странице.
2. Нажмите кнопку "Проверить идею".
3. Результаты анализа будут отображены ниже формы, включая:
   - Список похожих идей.
   - Подгруппы для каждой идеи.
